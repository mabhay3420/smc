PROGRAM := STATE_DECLARATION NEWLINE SYMBOL_DECLARATION NEWLINE TRANSITION_DECLARATION

STATE_DECLARATION := "STATE" ":" STATE_LIST
STATE_LIST := ((IDENT COMMA)*) (INITIAL_STATE) (COMMA IDENT)*
INITIAL_STATE :=  LEFT_BRACKET IDENT RIGHT_BRACKET


SYMBOL_DECLARATION := "SYMBOLS" ":" SYMBOL_LIST
SYMBOL_LIST := (SYMBOL COMMA)* SYMBOL
SYMBOL := IDENT

TRANSITION_DECLARATION := "TRANSITIONS" ":" NEWLINE TRANSITION_LIST

TRANSITION_LIST := (TRANSITION NEWLINE)*

TRANSITION := MATCH_STATE CONDITION COMMA ACTION_LIST COMMA FINAL_STATE
MATCH_STATE := IDENT
FINAL_STATE := IDENT
CONDITION := STAR | OR_CONDITIONS
OR_CONDITIONS := (SYMBOL OR)* OR SYMBOL
ACTION_LIST := (ACTION DASH)* ACTION
ACTION := R | L | X | PRINT
PRINT := P LEFT_PAREN SYMBOL RIGHT_PAREN